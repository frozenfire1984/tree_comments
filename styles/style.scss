@import "form";
@import "status";

*,*::before,*::after {
    box-sizing: border-box;
}

:root {
    --margin_delta: 25px;
    --color-new: #04a400;
    --color-update: #0077ff;
}

body {
    min-width: 600px;
    margin: 0;
    padding: 15px;
}

article > h1:first-child {
    margin-top: 0;
}

.comment {
    position: relative;
    display: grid;
    grid-template-columns: max-content max-content 1fr;
    grid-template-areas:
    "id author time"
    "body body body"
    "details details details"
    "status status status"
    "slot slot slot";
    row-gap: 5px;
    column-gap: 15px;
    padding-block: 5px;
    border: 1px hsl(0, 0%, 80%) solid;
    padding: 10px;
    transition: all 1s linear;

    ~ .comment {
        margin-top: -1px;
    }

    &#{&}_new {
        border-color: var(--color-new);
        box-shadow: inset var(--color-new) 0 0 3px 3px;
    }

    &#{&}_updated {
        border-color: var(--color-update);
        box-shadow: inset var(--color-update) 0 0 3px 3px;
    }

    & & {
        padding-left: clamp(5px, 5%, 30px);
    }

    [class*="icon-"] {
        opacity: .5;
    }

    & &__id-holder {
        grid-area: id;
        align-self: start;
        font-size: .8em;
        opacity: .5;
    }

    & &__author-holder {
        grid-area: author;
    }

    & &__time-holder {
        grid-area: time;
        font-style: italic;
    }

    & &__body {
        grid-area: body;
        padding: 7px 5px;
        background-color: hsla(0, 0%, 0%, .05);
        border-radius: 5px;
    }

    & &__details {
        grid-area: details;

        &[open] {
            .comment__details-summary-title_opened {
                display: initial;
            }

            .comment__details-summary-title_closed {
                display: none;
            }
        }
    }

    & &__details-summary {
        width: fit-content;
        cursor: pointer;
        font-size: .9em;
    }

    .comment__details-summary-title_opened {
        display: none;
    }

    .status {
        grid-area: status;
    }

    & &__slot {
        grid-area: slot;

        &:empty {
            display: none;
        }
    }
}